# zhinengguangai
农田智能灌溉系统
这是2013年的蓝桥杯单片机模拟题，要求如下：

1. 系统工作及初始化状态说明 
1.1 自动工作状态，根据湿度数据自动控制打开或关闭灌溉设备，以 L1 点亮指示； 1.2 手动工作状态，通过按键控制打开或关闭灌溉设备，以 L2 点亮指示； 1.3 系统上电后处于自动工作状态，系统初始湿度阈值为 50%，此时若湿度低于 50%，灌溉设备自动打开，达到 50%后，灌溉设备自动关闭； 1.4 灌溉设备打开或关闭通过继电器工作状态模拟。 
2. 数码管单元 
时间及湿度数据显示格式如图 2 所示： 0 8 - 3 0 8 0 5 时（8时） 分隔符 分（30分） 熄灭 湿度(5%) 数码管DS1 数码管DS2 
图 2. 显示格式（8 点 30 分，土壤湿度 5%） 
3. 报警输出单元 
系统工作于手动工作状态下时，若当前湿度低于湿度阈值，蜂鸣器发出提示音，并 可通过按键 S6 关闭提醒功能。 
4. 功能按键 2.1 按键 S7 设定为系统工作状态切换按键； 2.2 手动工作状态下按键 S6、S5、S4 功能设定如下： 按下 S6 关闭蜂鸣器提醒功能，再次按下 S6 打开蜂鸣器提醒功能,如此循环； S5 功能设定为打开灌溉系统； S4 功能设定为关闭灌溉系统。   2.3 自动工作状态下按键 S6、S5、S4 功能设定如下： S6 功能设定为湿度阈值调整按键，按下 S6 后，进入湿度阈值调整界面(如图 3 所示)，此时按下 S5 为湿度阈值加 1，按下 S4 湿度阈值减 1，再次按下 S6 后，系 统将新的湿度阈值保存到 EEPROM 中，并退出湿度阈值设定界面。 - - 8 8 8 8 5 2 湿度阈值设置提示符 熄灭 湿度阈值(52%) 数码管DS1 数码管DS2 图 3. 湿度阈值设定界面 
5. 实时时钟 
“模拟智能灌溉系统”通过读取 DS1302 时钟芯片相关寄存器获得时间，DS1302 芯片时、分、秒寄存器在程序中设定为系统进行初始化设定，时间为 08 时 30 分
6. 湿度检测单元 
以电位器 Rb2 输出电压信号模拟湿度传感器输出信号，且假定电压信号与湿度成正 比例关系 H 湿度 = KVRb2（K 为常数），Rb2 电压输出为 5V 时对应湿度为 99%。  
7. EEPROM 存储单元 
系统通过 EEPROM 存储湿度阈值，自动工作状态下，可通过按键 S6、S5、S4 设置 和保存阈值信息。 

开发板采用c51，代码设计完后实现了上述所有功能。
